<mat-toolbar>
  <button mat-icon-button class="menu-icon" color="warn" aria-label="menu"   >
    <!--<mat-icon>menu</mat-icon>-->
  </button>
  <span>Roma by Night </span>
</mat-toolbar>

<div class="mx-auto" style="width: 50vw; margin-top: 10vh;">
<mat-card MatCardAppearance="raised" style="background: transparent;" >
  <mat-card-title>
    <span class="true_primary"><h2>Registrazione e Creazione Personaggio</h2></span>
  </mat-card-title>
  <mat-card-content>

    <form  [formGroup]="registrationForm" #formDir="ngForm">

      <mat-form-field class="full">
        <input  matInput formControlName="regemail" id="regemail"  placeholder="Inserire email (login)" [errorStateMatcher]="matcher">

        <mat-error *ngIf="regemail.hasError('required')">Inserire una email</mat-error>
        <mat-error *ngIf="regemail.hasError('email') && !regemail.hasError('required')">Inserire una email valida</mat-error>
        <mat-error *ngIf="regemail.hasError('emailTaken')">Email già presente</mat-error>

      </mat-form-field>

      <mat-form-field class="full">
        <input matInput formControlName="password" id="password" type="password"  placeholder="Password" [errorStateMatcher]="matcher">
        <mat-error *ngIf="password.hasError('required')">Inserire la password</mat-error>
        <mat-error *ngIf="password.hasError('pattern')">Solo caratteri alfanumerici, almeno una lettera e un numero</mat-error>
        <mat-error *ngIf="password.hasError('minlength')">La lunghezza minima è 8 caratteri</mat-error>
      </mat-form-field>

      <mat-form-field class="full">
        <input matInput formControlName="password2" id="password2" type="password"  placeholder="Ripetere la password"  [errorStateMatcher]="matcher">
        <mat-error *ngIf="password2.hasError('pwddiverse') ">Le due password non coincidono</mat-error>
      </mat-form-field>



      <div class="white"  style="font-size: 0.8em;">
        In ottemperanza al Regolamento UE 2016/679 (GDPR) e alla normativa sulla protezione dei dati personali si informa che:<br>
        l’indirizzo email verrà registrato come dato di login per l’accesso al sito e per l’eventuale recupero della password; titolare del trattamento dati è il gestore del sito www.roma-by-night.it; l’email sarà registrato nel database del sito, locato nella UE; le informazioni non verranno comunicate a entità terze ma solo trattate in modo automatico durante il login e durante i backup periodici; la conservazione del dato (indirizzo email) è relativa solo al tempo di mantenimento di una utenza sul sito RBN, al termine del quale tale record verrà cancellato; gli utenti possono in ogni istante autonomamente modificare l’email o richiederne la cancellazione, in quest’ultimo caso verrà contestualmente cancellata l’utenza.
      </div>
      <div class="form-group">
          <input id="Check1" class="btn-check"  type="checkbox" formControlName="check" required>
          <label class="btn btn-sm btn-outline-primary" for="Check1">Accetto</label>
      </div>

      <div class="form-group">
        <button  mat-raised-button color="primary" type="button" [disabled]="!formDir.form.valid || password2.value != password.value" (click)="goto1()" class="full">Prosegui</button>
        <div class="alc">
          <a [routerLink]="['/login']" class="btn btn-link">Torna al login</a>
        </div>
      </div>

    
  
  <div class="row">
    <div class="col">&nbsp;</div>
  </div>
  <div class="row justify-content-center">
    <div class="col-8">
      <div class="progress">
        <div class="progress-bar bg-danger" role="progressbar" style="width: 10%;" >10%</div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">&nbsp;</div>
  </div>

</form>
</mat-card-content>
</mat-card>
</div>